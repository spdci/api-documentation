components:
  schemas:
    RequestStatusCheckRequest:
      type: object
      properties:
        signature:
          allOf:
            - $ref: './signature.yaml#/components/schemas/MsgSignature'      
        headers:
          allOf:
            - $ref: './headers.yaml#/components/schemas/CommonHeaders'
        message: 
          type: object
          anyOf:
            - $ref: '#/components/schemas/RequestStatusCheckMessage'
            - $ref: './common.yaml#/components/schemas/EncryptedRequest'            
   
    RequestStatusCheckMessage:
      type: object
      properties:
        request_ids:
          type: array
          example: ''
          items:
            anyOf:
              - $ref: '#/components/schemas/RequestIdObject'

    RequestIdObject:
      type: object
      properties:
        message_id:
          type: string
          example: ''
    RequestStatusObject:
      type: object
      properties:
        correlation_id:
          type: string
          example: ''
        status:
          type: string
          example: ''
          enum: ['received','processing','processed','failed','invalid_request_id']
    RequestStatusCheckResponse:
      type: object
      properties:
        message:
          anyOf:
            - $ref: '#/components/schemas/RequestStatusCheckResponseMessage'
            - $ref: './common.yaml#/components/schemas/EncryptedRequest'

    RequestStatusCheckResponseMessage:
      type: array
      items:
        $ref: '#/components/schemas/RequestStatusObjectList'    
    RequestStatusObjectList:
      type: object
      properties:
        status:
          type: array
          items:
            $ref: '#/components/schemas/RequestStatusObject'       
   